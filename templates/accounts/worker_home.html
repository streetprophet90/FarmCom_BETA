{% extends 'base.html' %}
{% block title %}Worker Home - FarmCom{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-gradient-warning text-white">
                <div class="card-body">
                    <h1 class="display-6 mb-3">
                        <i class="fas fa-user-cog me-3"></i>
                        Welcome, {{ user.first_name|default:user.username }}!
                    </h1>
                    <p class="lead mb-0">This is your Worker Home. Access your dashboard for more details.</p>
                    <a href="{% url 'worker_dashboard' %}" class="btn btn-primary btn-lg mt-3">Go to Dashboard</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Quick Stats -->
    <div class="row mb-4">
        <div class="col-md-2 mb-3">
            <div class="card text-center h-100">
                <div class="card-body">
                    <i class="fas fa-tractor fa-3x text-success mb-3"></i>
                    <h3 class="card-title">{{ total_projects }}</h3>
                    <p class="card-text">Projects Assigned</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center h-100">
                <div class="card-body">
                    <i class="fas fa-play-circle fa-3x text-primary mb-3"></i>
                    <h3 class="card-title">{{ active_projects }}</h3>
                    <p class="card-text">Active Projects</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 mb-3">
            <div class="card text-center h-100">
                <div class="card-body">
                    <i class="fas fa-trophy fa-3x text-warning mb-3"></i>
                    <h3 class="card-title">{{ completed_projects }}</h3>
                    <p class="card-text">Completed Projects</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card text-center h-100">
                <div class="card-body">
                    <i class="fas fa-upload fa-3x text-info mb-3"></i>
                    <h3 class="card-title">{{ uploads_count }}</h3>
                    <p class="card-text">Uploads</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card text-center h-100">
                <div class="card-body">
                    <i class="fas fa-tasks fa-3x text-secondary mb-3"></i>
                    <h3 class="card-title">{{ activities_count }}</h3>
                    <p class="card-text">Activities</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Community News & Testimonials -->
    <div class="row mb-4">
        <div class="col-md-8 mb-4">
            <div class="card h-100">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0"><i class="fas fa-newspaper me-2"></i>Community News & Updates</h5>
                </div>
                <div class="card-body">
                    {% for post in news %}
                        <div class="mb-3">
                            <h6 class="text-primary">{{ post.title }}</h6>
                            <p class="mb-1">{{ post.summary }}</p>
                            <small class="text-muted">{{ post.created_at|date:'M d, Y' }}</small>
                        </div>
                    {% empty %}
                        <p class="text-muted">No news at this time.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="fas fa-users me-2"></i>Testimonials</h5>
                </div>
                <div class="card-body">
                    {% for testimonial in testimonials %}
                        <blockquote class="blockquote">
                            <p class="mb-0">"{{ testimonial.content }}"</p>
                            <footer class="blockquote-footer">{{ testimonial.user.get_full_name|default:testimonial.user.username }}</footer>
                        </blockquote>
                        <hr>
                    {% empty %}
                        <p class="text-muted">No testimonials yet.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 